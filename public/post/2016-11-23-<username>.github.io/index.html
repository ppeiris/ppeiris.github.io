<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Deploy personal github pages posts using Evernote">
  <meta name="generator" content="Hugo 0.16" />

  <title>&lt;username&gt;.github.io &middot; Hello!</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="http://ppeir.is/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="http://ppeir.is/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="http://ppeir.is/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400" rel="stylesheet">
  
  

  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
  integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc="
  crossorigin="anonymous"></script>


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  



<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

  <link rel="shortcut icon" href="http://ppeir.is/img/favicon.ico" type="image/x-icon" />

  
    <link rel="stylesheet" href="http://ppeir.is/css/ppeiris.css">
  

</head>


<body>
<div id="layout">

  	
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">


  
  <a class="pure-menu-heading brand" href="http://ppeir.is/">Prabath Peiris</a>

  <div class="pure-menu-heading apod">
	    <a href="https://apod.nasa.gov/apod/astropix.html"  target="_blank" title="Astronomy Picture of the Day">
	      <img id="apod" src="http://apod.nasa.gov/apod/calendar/S_160103.jpg" alt="APOD">
	    </a>
    </div>




  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://ppeir.is/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://ppeir.is/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://ppeir.is/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://ppeir.is/contact/"><i class='fa fa-phone fa-fw'></i>Contact</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">


    
    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/ppeiris" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/ppeiris" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://facebook.com/peiris.prabath" target="_blank"><i class="fa fa-facebook-square fa-fw"></i>Facebook</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://linkedin.com/in/prabathpeiris" target="_blank"><i class="fa fa-linkedin-square fa-fw"></i>LinkedIn</a>
    </li>
    

    

    

    

    

    


    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2016. All rights reserved.</small>
  </div>
  <div class="small-print">

  </div>
</div>



</div>

	<div id="main">



<div class="header">
  <h1>&lt;username&gt;.github.io</h1>
  <h2>Deploy personal github pages posts using Evernote</h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>23 Nov 2016, 00:00</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="http://ppeir.is/tags/github-pages">github pages</a>
    
  </div>
  
  

</div>

  

<p>Github allow hosting a static website for your project and your personal profile. There are plenty of examples you can find on the internet how to do these. I have come across many different static site generating applications and Jekyll is what github uses by default. I have used Jekyll and it is absolutely awesome; however, I am using Hugo to create my static site. In my case, I am a big fan of <a href="https://www.evernote.com">Evernote</a> and almost all the notes and files are uploaded and stored in Evernote. Since Apple releases the <a href="http://www.apple.com/us_epp_5001376/shop/ipad/ipad-accessories">Apple Pencil</a>, I abandoned paper and pencils. I write everything on the iPad and there are plenty of awesome apps available to do this. Every note/annotated pdf/image I use in iPad automatically back up in Evernote, In other words, everything is centralized.</p>

<p>I like to share some of my thoughts and work on my blog page but do not have time to keep writing these blog posts. Then I realized I have everything already in the Evernote and would be nice if I can just publish some of the notes as my blog posts. This is what I am trying to explain in this post. For me to do this, I am using following applications/systems</p>

<ul>
<li><a href="a href='https://www.evernote.com'&gt;https://www.evernote.com&lt;/a">Evernote</a> - (all my notes/blog post/pages are here)</li>
<li><a href="a href='https://gohugo.io/' style='font-family:gotham, helvetica, arial, sans-serif;font-size:14px;'&gt;https://gohugo.io/&lt;/a">Hugo</a> - (static site generator)</li>
<li><a href="a href='https://github.com/zzamboni/enwrite' style='font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;'&gt;https://github.com/zzamboni/enwrite&lt;/a">evenwrite</a> - (convert evernote notes to markdown/html pages)</li>
<li><a href="a href='https://github.com/'&gt;https://github.com/&lt;/a">github</a> - (host my personal blog)</li>
</ul>

<p>I will skip explaining about Evernote and github since they very familiar things we use it every day, even if you are not, getting start using them is quite easy, and there are plenty of help out there if you need additional help.</p>

<h1 id="install-hugo">Install hugo</h1>

<ul>
<li>download/install using package from <a href='https://github.com/spf13/hugo/releases'><a href="https://github.com/spf13/hugo/releases">https://github.com/spf13/hugo/releases</a></a></li>
<li>(I use fedora) install hugo in fedora (<a href='https://copr.fedorainfracloud.org/coprs/spf13/Hugo/'><a href="https://copr.fedorainfracloud.org/coprs/spf13/Hugo/">https://copr.fedorainfracloud.org/coprs/spf13/Hugo/</a></a>)

<ul>
<li>add hugo repository to dnf</li>
<li>dnf install hugo</li>
</ul></li>
</ul>

<h1 id="install-enwrite">Install enwrite</h1>

<p><strong>enwrite</strong> is a nice tool to convert evernote into hugo page/blog</p>

<ul>
<li>Download/install enwrite from <a href='https://github.com/zzamboni/enwrite'><a href="https://github.com/zzamboni/enwrite">https://github.com/zzamboni/enwrite</a></a></li>
<li>Bring new notes from evernote</li>
</ul>

<p>Convert Evernote notes to a static html pages or a markdown pages. Since the hugo static generator usually convert markdown files to html pages, I write all my notes in markdown format in Evernote.</p>

<pre><code>$ enwrite -n evernote_notebook_name -t tag_1 tag_2 -o /path/to/your/site/my-hugo-blog
</code></pre>

<ul>
<li><em>evernote_notebook_name</em>: Name of the evernote notebook in your evernote account</li>
<li><em>tag_1, tag_2</em>: You can tag each note with in evernote. I usually tag with a particular tag that I would like to publish on my blog which will pick up by enwrite.</li>
</ul>

<h1 id="setup-hugo-site-to-serve-as-a-personal-github-page">Setup hugo site to serve as a personal github page</h1>

<p>Personal github pages are served from the master branch of special repository that starts with your user name. In my case, it looks like ppeiris.github.io. Hugo site structure is little different where the public folder is in the root directory instead public being the root directory. In this particular case, we can not just push the entire project to ppeiris.github.io. The solution is to push the public directory into master branch and the source files into another branch within the repository (in my case, I call this branch as ppeiris.src). master (public/) and the ppeiris.src (hugo source) branches are managed using git subtrees.</p>

<p>Lets assume you already have the website built in your local machine.</p>

<ul>
<li>Push all the data to a new branch (placeholder) in github</li>
</ul>

<pre><code class="language-sh">$ git push origin ppeiris.src
</code></pre>

<ul>
<li>go to github account and set the default branch to ppeiris.src</li>
<li>delete the master branch local and remote</li>
</ul>

<pre><code class="language-sh">$ git branch -D master
$ git push origin :master
</code></pre>

<ul>
<li>create and empty orphaned master branch</li>
</ul>

<pre><code>$ git checkout --orphan master
</code></pre>

<ul>
<li>delete all the files in master branch</li>
</ul>

<pre><code>$ git rm --rf *
</code></pre>

<ul>
<li>checkout the README.md file from the ppeiris.src branch and add to master branch. If you have CNAME file setup to use your own domain, you need to bring that file too</li>
</ul>

<pre><code>$ git checkout ppeiris.src README.md CNAME
$ git add .
$ git commit -m 'Add README.md file and CNAME'
</code></pre>

<ul>
<li>push master branch</li>
</ul>

<pre><code>$ git push origin master
</code></pre>

<ul>
<li>switch to the ppeiris.src branch</li>
</ul>

<pre><code>$ git checkout -f ppeiris.src
</code></pre>

<ul>
<li>remove the public/ dir and commit</li>
</ul>

<pre><code>$ git rm -rf public
$ git add -u
$ git commit -m 'Remove public folder'
</code></pre>

<ul>
<li>add the master branch as a subtree</li>
</ul>

<pre><code>$ git subtree add --prefix=public --squash https://github.com/ppeiris/ppeiris.github.io.git master
</code></pre>

<ul>
<li>pull down the committed files</li>
</ul>

<pre><code>$ git subtree pull --prefix=public https://github.com/ppeiris/ppeiris.github.io.git master
</code></pre>

<p>go to github web and change the default branch to master</p>

<h1 id="deploy-updates-to-the-site-public">Deploy updates to the site (public/)</h1>

<ul>
<li>Pull down everything from the master branch (subtree)</li>
</ul>

<pre><code>$ git subtree pull --prefix=public https://github.com/ppeiris/ppeiris.github.io.git master
</code></pre>

<ul>
<li>Build the site with hugo - this will regenerate the public directory with all the static files</li>
</ul>

<pre><code>$ hugo
</code></pre>

<ul>
<li>Add files to ppeiris.src directory and push them to repo</li>
</ul>

<pre><code>$ git add . 
$ git commit -m 'Add newly generated static files'
$ git push origin ppeiris.src
</code></pre>

<ul>
<li>Push the public directory to master branch using subtree push</li>
</ul>

<pre><code>$ git subtree push --prefix=public https://github.com/ppeiris/ppeiris.github.io.git master
</code></pre>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="http://ppeir.is/post/2016-11-21-mathjax-in-jekyll/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="http://ppeir.is/post/2016-11-21-mathjax-in-jekyll/">MathJax</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
  </div>
</div>



  
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    


    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'ppeir-is';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



</div>

  	<div id="gsearch">
<script>
  (function() {
    var cx = '012539744541079210915:fbqelorp_hy';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>

</div>
</div>
<script src="http://ppeir.is/js/ui.js"></script>

 
    <script src="http://ppeir.is/js/ppeiris.js"></script>
  

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'Your Google Analytics tracking ID', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>

